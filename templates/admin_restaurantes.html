{% extends "base.html" %}

{% block title %}Gestión de Restaurantes - RestauBook{% endblock %}

{% block content %}
<div class="animate-fade-in">
    <!-- Header -->
    <div class="flex items-center justify-between mb-8">
        <div>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">
                <i class="fas fa-utensils text-purple-600 mr-3"></i>
                Gestión de Restaurantes
            </h1>
            <p class="text-gray-600">Administra todos los restaurantes del sistema</p>
        </div>
        <div class="flex gap-3">
            <a href="/admin" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-xl font-semibold transition">
                <i class="fas fa-arrow-left mr-2"></i>
                Volver
            </a>
            <a href="/admin/restaurantes/crear" class="inline-block btn-primary text-white px-8 py-3 rounded-xl font-semibold shadow-lg">
            <i class="fas fa-plus mr-2"></i>
            Crear Primer Restaurante
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}restaurantes/crear" class="btn-primary text-white px-6 py-3 rounded-xl font-semibold shadow-lg">
                <i class="fas fa-plus mr-2"></i>
                Nuevo Restaurante
            </a>
        </div>
    </div>

    <!-- Lista de Restaurantes -->
    {% if restaurantes %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for restaurante in restaurantes %}
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
            <div class="h-40 gradient-bg flex items-center justify-center">
                <i class="fas fa-utensils text-white text-5xl"></i>
            </div>
            <div class="p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-2">{{ restaurante.nombre }}</h3>
                <p class="text-gray-600 mb-3 text-sm">
                    <i class="fas fa-map-marker-alt text-purple-600 mr-2"></i>
                    {{ restaurante.direccion or 'Sin dirección' }}
                </p>
                <p class="text-gray-600 mb-4 text-sm line-clamp-3">
                    {{ restaurante.descripcion or 'Sin descripción' }}
                </p>
                
                <div class="flex items-center justify-between mb-4 pb-4 border-b border-gray-200">
                    <span class="text-sm text-gray-600">
                        <i class="fas fa-chair mr-1"></i>
                        {{ restaurante.tables|length }} mesas
                    </span>
                    <a href="/admin/restaurantes/{{ restaurante.id }}/mesas" class="text-purple-600 hover:text-purple-800 text-sm font-semibold transition">
                        Gestionar Mesas <i class="fas fa-arrow-right ml-1"></i>
                    </a>
                </div>

                <div class="flex gap-2">
                    <a href="/admin/restaurantes/editar/{{ restaurante.id }}" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg text-center font-semibold text-sm transition">
                        <i class="fas fa-edit mr-1"></i>
                        Editar
                    </a>
                    <form method="POST" action="/admin/restaurantes/eliminar/{{ restaurante.id }}" class="flex-1" onsubmit="return confirm('¿Eliminar este restaurante? También se eliminarán todas sus mesas y reservas.')">
                        <button type="submit" class="w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg font-semibold text-sm transition">
                            <i class="fas fa-trash-alt mr-1"></i>
                            Eliminar
                        </button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="bg-white rounded-2xl shadow-lg p-12 text-center">
        <i class="fas fa-utensils text-gray-300 text-6xl mb-4"></i>
        <h3 class="text-2xl font-bold text-gray-700 mb-2">No hay restaurantes registrados</h3>
        <p class="text-gray-600 mb-6">Comienza agregando tu primer restaurante al sistema</p>
        <a href="/admin/